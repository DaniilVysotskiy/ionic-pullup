@import 'node_modules/ionic-angular/components/toolbar/toolbar.ios';
@import 'node_modules/ionic-angular/components/toolbar/toolbar.md';

$tabWidth:            120px;
$tabHeight:           16px;
$tabRadius:           20px;
$footerBackground:    color($colors, primary, base);
$footerShadow:        #666;
$toolbarHeight:       5.6rem;

@mixin footer-tab($width, $height, $radius, $background: color($colors, primary, base)) {
  position: relative;
  width: $width;
  height: $height;
  background: $background;
  border-radius: $radius $radius 0 0;
  margin: 0 auto; 
}

@mixin footer-tab-shadow($shadowColor) {
    box-shadow: 0px -2px 2px $shadowColor;
}

ion-pullup { 
  background : color($colors, primary, base);  

  ion-footer {
    &::before {
      content: none;
    }

    ion-pullup-tab {
      z-index: 1000;
      display: flex;

      @include footer-tab($tabWidth, $tabHeight, $tabRadius, $footerBackground);
      @include footer-tab-shadow($footerShadow);
    }

    ion-content {
      position:absolute;
      margin-top: calc(#{$toolbarHeight} + #{$tabHeight});

      // this rule does not work - toolbar height is always 5.6rem 
      /*
      .ios & {
        margin-top: calc(#{$toolbar-ios-height} + #{$tabHeight});
      }
      .md & {
        margin-top: calc(#{$toolbar-md-height} + #{$tabHeight});
      }
      */
      scroll-content {
        margin-bottom: calc(#{$toolbarHeight} + #{$tabHeight});
      }
    }

    ion-toolbar {
      @include footer-tab-shadow($footerShadow);
      
      .toolbar-background {
        .ios & {
          border-top: none;
        }
      }
    }
  } 
}